<!DOCTYPE html>
<html>
<head>
    <title>Lab  - Stopwatch</title>
    <link rel="stylesheet" href="style.css">
    <style>
        main {
            text-align: center;
        }       
    </style>
</head>
<body>
 
    <main>
        <h1>DmytroZ - IT 2320 - Lab 5</h1>
        <div id="main">
            <div id="stopwatch">
                00:00.00
            </div>
            <br /><button onclick="startTimer()">Start</button>
            <button onclick="stopTimer()">Stop</button>
            <button onclick="resetTimer()">Reset</button>           
        </div>
    </main>
</body>
</html>

<script>

    const timer = document.getElementById('stopwatch');

    var min = 0;
    var sec = 0;
    var msec = 0;
    var stoptime = true;

    function startTimer() {
        if (stoptime == true) {
            stoptime = false;
            timerCycle();
        }
    }
    function stopTimer() {
        if (stoptime == false) {
            stoptime = true;
        }
    }

    function timerCycle() {
        if (stoptime == false) {
            msec = parseInt(msec);
            sec = parseInt(sec);
            min = parseInt(min);        

            msec = msec + 1
        
            if (msec == 10) {
                sec = sec + 1;
                msec = 0;
            }

            if (sec == 60) {
                min = min + 1;
                sec = 0;
            }
                       
            if (msec < 10 || msec == 0) {
                msec = '0' + msec;
            }

            if (sec < 10 || sec == 0) {
                sec = '0' + sec;
            }
            if (min < 10 || min == 0) {
                min = '0' + min;
            }
            

            timer.innerHTML = min + ':' + sec + '.' + msec;

            setTimeout("timerCycle()", 100);
        }
    }

    function resetTimer() {       
        min = 0;
        sec = 0;
        msec = 0;
        timer.innerHTML = '00:00.00';
    }
</script>
